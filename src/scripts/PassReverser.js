class PassReverser {
	/**
	 * @param {object} diffused diffusion dictionary
	 */
	constructor(diffused) {
		const json_raw = atob(diffused)
		const dictionary = JSON.parse(json_raw)

		this.diffused = dictionary
	}

	Reverse(input) {
		let reversed = ""

		let counters = {}
		const keys = Object.keys(this.diffused)
		for (let cnt = 0; cnt < keys.length; cnt++) {
			counters[keys[cnt]] = 0
		}

		for (let cnt = 0; cnt < input.length; cnt++) {
			let char = input[cnt]

			//avoid error
			if (counters[char] >= this.diffused[char].length) {
				counters[char] = 0
			}

			let adding = this.diffused[char][counters[char]]
			counters[char] += 1

			reversed += adding
		}

		return reversed
	}
}

const passReverser = new PassReverser(
	//hard code open key
	"eyIwIjpbIkJlTFdVZSIsIjFiR3NxQSIsIndrWlRMRyIsIjRXV1hZRSIsIlJSak1NQSJdLCIxIjpbInlKbG5wSSIsImViNmpQeCIsIllieFpBbSIsInhselRqMSIsIkhhQWV0eiJdLCIyIjpbIkhRN1BGUDJXdTRlRkpRbCIsIkt3UElTSCIsIjExbVpqWCIsIk9wMHhhMiIsImJveVVrOCJdLCIzIjpbIlVpOTZxTiIsImsyMXhvWCIsInZ3TnFhRCIsIk9pamxkcyIsIkgxNXJZSyJdLCI0IjpbInJPSGZMSCIsIm1oVmZkUCIsImVPTWo0eCIsImo5b2thWCIsIjZLN1ZLZiJdLCI1IjpbImN6U2tZTSIsInBwbGlRSiIsIkgzYWZFbSIsIjVwUXVvZiIsIlhOMFF5RCJdLCI2IjpbIkFWczd4YSIsIm1EbW84QyIsIjlwM1lVdiIsIkpzdGUzVyIsIngzbmVRViJdLCI3IjpbIjlCVE5ZOCIsIldvaXRXWCIsIkFWdHNhMyIsIjhabVdZVCIsIm9IcXJMSiJdLCI4IjpbIkJTeFpyNSIsIlZiMkVDMyIsIlJVMkUzcCIsIktRdjRsciIsInRxUmFPUCJdLCI5IjpbImtQQ3RYZiIsInJyU0NCMiIsIjM1eXFqVSIsImJRc2dvMiIsIjhvaGwyaCJdLCJhIjpbIjFBWUk0SCIsIjJmWk0zcCIsIm8wbG5BSiIsInR1Uks5ZlhBZmFFV2Y3ZSIsIlRjSEN5T0g2MDFYWFd6TiJdLCJiIjpbImY2Tzd3aCIsInBtdHl6WSIsIjJveXRWTSIsInFvOFBvUCIsIkU2MHFpUSJdLCJjIjpbIjl1cldNWCIsIm1hMGNucSIsIjdaYU5uMiIsIkhKMU8xOSIsIkZZOXNuUiJdLCJkIjpbIl9wYXRfMSIsInVpblk0NGFmZWdnTmZPMSIsImVLMW00TiIsImozSFBCSiIsIkNGTm5IQyJdLCJlIjpbImpRaWhFcyIsIjV4NUk1UyIsIm5jWkJhWSIsIkpIODZZeiIsIlVjQk4zQSJdLCJmIjpbInhDTFRUUyIsIjFCaXhLOSIsIk93Z3IwQiIsInRYc3pNbyIsIktJY014YyJdLCJnIjpbIjN4M0xvNiIsIjdlOTFKbyIsIm9HNTFpdCIsIjAzM0NrMyIsIk5ZNmZmRiJdLCJoIjpbInFYZEdhUyIsIlB6eGxzTCIsInBha1ZUNCIsInN6YUNuZyIsInVMTlhHUSJdLCJpIjpbIjY3ZUZ1cCIsIlA1SWliNiIsIjRPajJjUCIsIk9SdGQwWCIsIjg1bm1PYyJdLCJqIjpbIlZIYnYwSiIsIm13QWFBYyIsInJLM25MUCIsImhuRUY1dyIsImpnVVhMeiJdLCJrIjpbIkp1QzM0dSIsInV2T0xaNyIsIlU1RWl1byIsIk9QUHVyMiIsInZqb0txWSJdLCJsIjpbInF3dThjUSIsImNqT2p0WCIsIk9mWWtLYyIsIjhJNWxiWSIsIkUyeGxxTyJdLCJtIjpbIkpBMDVzcyIsInZwRXJ4RzR4Y21EbkpCdiIsIjVYa2FzViIsImVDNlFQdCIsIklwNUlKaCJdLCJuIjpbIlUxSl9ETiIsIk9nYm5VVCIsImJlZ09xTSIsIk9uZGVPeCIsIk94NGFXeCJdLCJvIjpbImcyYk9INyIsIjdqeEZsZiIsInUzVkV4MyIsInlPb0hFSyIsIkxoZW9ORyJdLCJwIjpbIjBDYUpveSIsIkRremxsNiIsIkV5cWtFZCIsIlE1NEFRYiIsIjNQOExyOCJdLCJxIjpbIm1LRk5uRSIsInAxdVRTVSIsIkNsWkd2OSIsIlZvcmxVVCIsIjV1c2dEaiJdLCJyIjpbIlp5OFc0SyIsIm0wNWlpbiIsIk5BZU9PSiIsImVVZ2c2OSIsIklaeGdHcyJdLCJzIjpbInpDYlZENyIsIkpiWlBJeSIsIlpnZ3lJTyIsImJoUDlzUCIsIjZqWk9rNiJdLCJ0IjpbIldRSUQwRyIsImVKYWJUMyIsImFwMUg2NyIsImh1eVNZQSIsImpvTXkxdSJdLCJ1IjpbIkZ0NzJuRiIsIkp2dkFHVyIsIldBUjQydSIsIlc3b05TMCIsInVoVmNlZCJdLCJ2IjpbImgwdG9aOSIsInlUcGtEdiIsIjBsSlpMTyIsIkFROFZqcSIsIjBydnNoUCJdLCJ3IjpbIlZ3dzVzQSIsImE1dkVITiIsIkw4czJnQSIsImVKUHROSiIsIjZseXZLYSJdLCJ4IjpbImhWdzl2ciIsIkxlT04xNiIsIjZkMVdWNiIsIllFZ2hpaiIsInBJSU92SiJdLCJ5IjpbIjN2ZFVXciIsInFuek5yRCIsIklCZlJ5byIsIjFHaEhtbiIsIkVUTWZmUiJdLCJ6IjpbIjJPWTc0RSIsIjY1UGJDeSIsInVubk5KSSIsImRrWWxkdyIsIm9UYlhQTyJdLCJBIjpbIkZzc283NCIsIml4RFBCNyIsImhrTHhmcyIsIm5BRVJlZCIsIkZwVzA0OSJdLCJCIjpbIjhkZ250cCIsImMyR2xWciIsImxtNHZIZCIsImdOcHh4MyIsIkU0dVJoVSJdLCJDIjpbInlqWHhuQSIsIkFTVEk2TiIsIjE3cjVHTiIsIkhnZUlUbiIsImNMRkJGWCJdLCJEIjpbIklDUWU5TCIsInBCeE5ZbyIsIk9EaUNVRSIsIkdKY25NVSIsIjJCSmJoWSJdLCJFIjpbInh6SmZwaSIsIlB0STZ3ZSIsIlBwdmplZCIsIlV2Y0xqOSIsIlZ5cFN0MSJdLCJGIjpbIm1mdjdCMyIsIk5YcE1MRSIsIld3SE1ZeSIsIm9IUzc3ViIsImdxRHdSeCJdLCJHIjpbIkRPZzRsNSIsImxFYzFodyIsIkxKb2lmTiIsIk5xWDd4ZiIsIlhnS1cxTSJdLCJIIjpbInVuMDkzVSIsInUySlBqMyIsImhDZndsOSIsIjNUVTFaMCIsIjN6d1dMeiJdLCJJIjpbIjlPN3luViIsIjI4U1FKMiIsImxOaTluNyIsIkowaHBubiIsIkp0UVBGbSJdLCJKIjpbIktEQTlOUSIsIktJM2JXdiIsIkdJdFJmbiIsIno5SUQxTyIsIm9yemxQMSJdLCJLIjpbIm5lRVh2cSIsIjlJVFU1aSIsIklCQXl1UyIsIkI5WFpJMyIsImtrMnRWZCJdLCJMIjpbImdGMXM0NyIsIm9GeXNSMCIsIlY2VVRWViIsIjlCVXJ3aCIsIkg0WG1xaCJdLCJNIjpbIkJVWjFxaCIsInpTUTlvbCIsImhybXZyYSIsIjdFUlVIVCIsIjBuQTZDMiJdLCJOIjpbIlVMVzJrNiIsIjNUdEFVciIsImVvcW5JSyIsIk0ydlFHdCIsIlJiTE9EMSJdLCJPIjpbIll2WFB1WSIsIlp1Tlp4VyIsIlB4V3pqbyIsIkwzRml5ZyIsIkFxMTVybiJdLCJQIjpbInIxRkhTSiIsIkp5WGdBVSIsInMwaFNsMiIsIkczZUZNVCIsIm8zWHVWbyJdLCJRIjpbInBKRFlBdiIsInBuV0sxQiIsIk44bnZFdiIsIlhZc2EzOSIsIlZSbE1NbCJdLCJSIjpbIkt3MXdhMyIsIldrZG9vRiIsIm1wQ21wZyIsIlh5Y1dZNiIsIlBTQlVUYyJdLCJTIjpbIkRMbFV3diIsIlpyaTdHYSIsIkV1NTczcyIsIjNCUW1obyIsImFSakQyNCJdLCJUIjpbImphbXZsZSIsIlNPSUgwWSIsImt3eUY5QyIsIkc4TnZLNyIsIkNhcE1rUyJdLCJVIjpbImdpdGh1YiIsIm1CMFRCTHFLZlB5T21COCIsIklxVlBscSIsIjBzM2FDZSIsIkdQc0FiUyJdLCJWIjpbIlhCeUtnZCIsInZ5Sm1nYyIsIkhlU2ZiayIsIm9MNGN0eiIsImtwVnp6WSJdLCJXIjpbImFQdlUxeiIsIkd3U1BicyIsImpjUDVkWCIsIlI2aFRtdSIsIlcwRUVYMyJdLCJYIjpbIkhvZWxjeiIsImFGVlFQSCIsIkhlVEJuWSIsIjkxREJpMSIsIjlzUVh3bCJdLCJZIjpbIkxXZjhhMSIsIkpwT2d2TCIsImFaU2tCciIsIjhwRmM2UCIsIklQSE9PYiJdLCJaIjpbIk9ONzhWQyIsInNrUXlXNSIsIkNwcmxWRSIsInRXOGs2YyIsInNqS2hrcSJdfQ=="
)
